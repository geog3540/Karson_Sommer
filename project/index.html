<!DOCTYPE html lang="en">
<head>
	<meta charset="utf-8">
	<title>Iowa Roads</title>
	<lang></lang>

	<!-- CSS -->
	<!-- Bootstrap -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<!-- import google 'Raleway' font -->
	<link href="https://fonts.googleapis.com/css?family=Raleway:400,500,900" rel="stylesheet">
	<link rel="stylesheet" href="./css/smallmultiples.css">

	<!-- import JQuery and Bootstrap -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<!-- D3.js-->
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<script src="https://d3js.org/colorbrewer.v1.min.js"></script>
	<!-- D3 legend to make it easier -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.21.0/d3-legend.min.js"></script>
	<!-- Simple statistics for Jenks natural breaks -->
	<script src="https://unpkg.com/simple-statistics@7.0.7/dist/simple-statistics.min.js"></script>


</head>
<body>
	<nav class="navbar navbar-default">
		<div class="container container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#defaultNavbar1"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
				<a class="navbar-brand" href="../index.html">Geog 5540</a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="defaultNavbar1">
				<ul class="nav navbar-nav">

					<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></a>
						<ul class="dropdown-menu" role="menu">
							<li><a href="../shortbio.html">About</a></li>
							<li><a href="../files/resume.pdf">Resume</a></li>
							<li class="divider"></li>
							<li><a href="karson-sommer@uiowa.edu">Contact</a></li>
						</ul>
					</li>
				</ul>

			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>

	<div class="container">
		<div class="content">
			<div class="row">
					<h1>Iowa Roads</h1>
			</div>
			<hr />
			<div class="row">
				<!--<div class="col-sm-4">-->
				<h2>Summary</h2>
				<p>Consider what street you live on? Maybe it is 1st Street. Maybe it is Elm Court. Maybe it is Interstate 80. What is the actual distribution of road suffixes?</p>
				<p>We focus our analysis on the state of Iowa. Data is taken from the <a href="https://data.iowadot.gov/datasets/road-network-2">Iowa Department of
					Transportation Road Access Management System (RAMS)</a>.</p>
				<p>This dataset is extracted in the form of a shapefile and has 309,000 entries as well as 109 attributes.
					For the analyses, we are only interested in the road name, so we discard all but 5 columns. 4 of the columns represent the names of the road. A municipal name,
					a secondary name, a county name, and a state name. This was reduced to a single name per county by taking the lowest priority name. So if a road has both
					a municipal name but is also a state signed route, we will only consider the municipal name. The other 1 column is the Average Annual Daily Traffic.</p>
				<p>Using QGIS, the length for each road segment is appended to each entry. Additionally, the road segments are joined against each county in Iowa to retain the FIPS code and name.
					Then, the data is imported into Azure Databricks. SQL queries are used to compute the total length. The actual query SQL query can be <a href="./aGeography.html">found here</a>. </p>
				<p>In addition to the analysis presented here, another analysis was conducted. This focused primarly on the safety of roads in Iowa based on their physical characteristics.
					The presentation can be found <a href="./files/road_safety_analysis.pdf">Presentation</a></p>

				<h2>Most Common Suffixes by County</h2>
				<p>The first set of maps to consider is which road suffix is most common for each county?</p>
				<p>These maps can highlight both the most common road suffix by percent of overall length and the percent of the total miles driven.
					Most common by length represents of all roads, which is the most common. Most common by miles driven represents
					what is the most common suffix that people actually see.
					The overall length is computed as the sum of length for the suffix divided by the total length. The miles driven is computed by taking the
					length multiplied by Average Annual Daily Travel. This computes miles driven for a road segment in a day, then it can be computed as a percent of total miles driven</p>
				<p>Special suffixes include NULL, MALFORMED, and OTHER. NULL is any road which did not have a name in the dataset. MALFORMED are any roads which are missing a suffix. OTHER are any roads with a suffix other than the specified suffixes</p>
				<!--</div>-->
			</div>
			<div class="row">
				<div class='col-sm-8 mapButtons'>
				<span class="pull-right">
					&nbsp
					<span title="Whether we want to look at length or vehicle miles"><b>Classification:  </b></span>
					<span title="Proportion of total road length"><button id='buttonLength2' class="btn btn-sm active" aria-pressed="true">Length</button></span>
					<span title="Proportion of total miles driven"><button id='buttonVehicleMiles2' class="btn btn-sm">Vehicle Miles</button></span>
					<span title="Show description when switching classification"><b>Load Screen:</b><input type="checkbox" checked id="myCheck2"></span>
				</span>
				</div>
			</div>
			<br />
			<div class="row">
				<div id="myMap2"></div>
			</div>

			<div class="row">
				<h2>Distribution of Road Suffixes</h2>
				<p>The second analyses focuses on the distribution of a particular road suffix. For instance, where would
				you be most likely to find roads with court in the name?</p>
				<p>So, rather than examining which is the most common suffix, we examine the overall percent of that suffix in each county.
				This map allows you to select between any suffix which has over 10 miles of length across in Iowa. Again, the option is available to
				consider either the breakdown by length or by miles driven.</p>
			</div>

			<div class="row">
				<div class='col-sm-8 mapButtons'>
					<span class="pull-right">
						<span title="Part of the street name we are looking for"><b>Suffix:  </b>
						<select id="classDropdown">
							<option value="Alley">Alley</option>
							<option value="Avenue">Avenue</option>
							<option value="Boulevard">Boulevard</option>
							<option value="Circle">Circle</option>
							<option value="County Road">County Road</option>
							<option value="Court">Court</option>
							<option value="Drive">Drive</option>
							<option value="Highway">Highway</option>
							<option value="Lane">Lane</option>
							<option value="Loop">Loop</option>
							<option value="MALFORMED">MALFORMED</option>
							<option value="NULL">NULL</option>
							<option value="OTHER">OTHER</option>
							<option value="Parkway">Parkway</option>
							<option value="Place">Place</option>
							<option value="Ridge">Ridge</option>
							<option value="Road">Road</option>
							<option value="Street" selected>Street</option>
							<option value="Terrace">Terrace</option>
							<option value="Trail">Trail</option>
							<option value="Way">Way</option>
						</select>
						</span>
						&nbsp
						<span title="Whether we want to look at length or vehicle miles"><b>Classification:  </b></span>
						<span title="Proportion of total road length"><button id='buttonLength' class="btn btn-sm active" aria-pressed="true">Length</button></span>
						<span title="Proportion of total miles driven"><button id='buttonVehicleMiles' class="btn btn-sm">Vehicle Miles</button></span>
						<span title="Show description when switching classification"><b>Load Screen:</b><input type="checkbox" checked id="myCheck"></span>
					</span>
				</div>
			</div>		
			<br />

			<div class="row">
				<div id="myMap"></div>
				<div id="divHist1"></div>
			</div>




		</div>
	</div>


<div id="confirm">
	<div class="message">asdfadsf</div><br>
	<button class="yes">OK</button>
</div>

</body>
<script src="./myScript"></script>
<script src="./myScript2"></script>

</html>